<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1530px" preserveAspectRatio="none" style="width:1335px;height:1530px;background:#FFFFFF;" version="1.1" viewBox="0 0 1335 1530" width="1335px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1518.7949" style="stroke:#181818;stroke-width:0.5;" width="1005.5" x="307" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="155" x="732.25" y="18.5684">&lt;&lt;System&gt;&gt; EletricGO</text><rect fill="#FFFFFF" height="1343.8184" style="stroke:#181818;stroke-width:1.0;" width="10" x="94" y="91.4883"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="137.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="195.7305"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="454.5254"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="528.1016"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="608.6777"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="667.2988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="926.0938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="999.6699"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1080.2461"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1310.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1383.9961"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="225.041"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="696.6094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="1109.5566"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="254.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="725.9199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="1138.8672"/><rect fill="#FFFFFF" height="244.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="283.6621"/><rect fill="#FFFFFF" height="244.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="755.2305"/><rect fill="#FFFFFF" height="215.8184" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="1168.1777"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="312.9727"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="395.9043"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="784.541"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="867.4727"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="1197.4883"/><rect fill="#FFFFFF" height="53.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1188" y="342.2832"/><rect fill="#FFFFFF" height="53.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1188" y="813.8516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="425.2148"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="896.7832"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="1281.1094"/><rect fill="none" height="1329.8184" style="stroke:#000000;stroke-width:1.5;" width="1318.5" x="10" y="98.4883"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="357.2832"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="828.8516"/><rect fill="none" height="178.8184" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="1242.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="99" x2="99" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="331" x2="331" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="432" x2="432" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="494" x2="494" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="560" x2="560" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="667" x2="667" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="867" x2="867" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1114.5" x2="1114.5" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1192.5" x2="1192.5" y1="81.4883" y2="1445.3066"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1268.5" x2="1268.5" y1="81.4883" y2="1445.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="30" y="78.5352">LOGISTICMANAGER</text><ellipse cx="99" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M99,21.5 L99,48.5 M86,29.5 L112,29.5 M99,48.5 L86,63.5 M99,48.5 L112,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="30" y="1457.8418">LOGISTICMANAGER</text><ellipse cx="99" cy="1469.2949" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M99,1477.2949 L99,1504.2949 M86,1485.2949 L112,1485.2949 M99,1504.2949 L86,1519.2949 M99,1504.2949 L112,1519.2949 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="311" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="318" y="70.5352">SPA</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40" x="311" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="318" y="1464.8418">SPA</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="399" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="406" y="70.5352">Logistic</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66" x="399" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="406" y="1464.8418">Logistic</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="475" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="482" y="70.5352">WM</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="38" x="475" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="482" y="1464.8418">WM</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="523" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="530" y="70.5352">Planning</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="523" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="530" y="1464.8418">Planning</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="607" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="614" y="70.5352">routeController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="607" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="614" y="1464.8418">routeController</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="818" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="825" y="70.5352">routeService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="99" x="818" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="825" y="1464.8418">routeService</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1071.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1078.5" y="70.5352">routeRepo</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1071.5" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1078.5" y="1464.8418">routeRepo</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="1167.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1174.5" y="70.5352">route</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="51" x="1167.5" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1174.5" y="1464.8418">route</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1228.5" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1235.5" y="70.5352">routeMap</text><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1228.5" y="1444.3066"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1235.5" y="1464.8418">routeMap</text><rect fill="#FFFFFF" height="1343.8184" style="stroke:#181818;stroke-width:1.0;" width="10" x="94" y="91.4883"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="137.1094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="195.7305"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="454.5254"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="528.1016"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="608.6777"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="667.2988"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="926.0938"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="999.6699"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1080.2461"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1310.4199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="326" y="1383.9961"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="225.041"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="696.6094"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="427" y="1109.5566"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="254.3516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="725.9199"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="662.5" y="1138.8672"/><rect fill="#FFFFFF" height="244.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="283.6621"/><rect fill="#FFFFFF" height="244.4395" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="755.2305"/><rect fill="#FFFFFF" height="215.8184" style="stroke:#181818;stroke-width:1.0;" width="10" x="862.5" y="1168.1777"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="312.9727"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="395.9043"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="784.541"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="867.4727"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1109.5" y="1197.4883"/><rect fill="#FFFFFF" height="53.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1188" y="342.2832"/><rect fill="#FFFFFF" height="53.6211" style="stroke:#181818;stroke-width:1.0;" width="10" x="1188" y="813.8516"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="425.2148"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="896.7832"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1.0;" width="10" x="1263.5" y="1281.1094"/><path d="M10,98.4883 L72,98.4883 L72,105.7988 L62,115.7988 L10,115.7988 L10,98.4883 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1329.8184" style="stroke:#000000;stroke-width:1.5;" width="1318.5" x="10" y="98.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="112.0566">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="87" y="111.123">[create route]</text><polygon fill="#181818" points="314,133.1094,324,137.1094,314,141.1094,318,137.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="320" y1="137.1094" y2="137.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="111" y="132.3672">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="124" y="132.3672">Starts to create a route</text><polygon fill="#181818" points="115,162.4199,105,166.4199,115,170.4199,111,166.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="166.4199" y2="166.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="121" y="161.6777">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="134" y="161.6777">Asks for data</text><polygon fill="#181818" points="314,191.7305,324,195.7305,314,199.7305,318,195.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="320" y1="195.7305" y2="195.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="111" y="190.9883">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="124" y="190.9883">Introduce the requested data</text><polygon fill="#181818" points="415,221.041,425,225.041,415,229.041,419,225.041" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="331" x2="421" y1="225.041" y2="225.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="338" y="220.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="351" y="220.2988">POST</text><polygon fill="#181818" points="650.5,250.3516,660.5,254.3516,650.5,258.3516,654.5,254.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="656.5" y1="254.3516" y2="254.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="439" y="249.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="452" y="249.6094">createroute(req, res, next)</text><polygon fill="#181818" points="850.5,279.6621,860.5,283.6621,850.5,287.6621,854.5,283.6621" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="667.5" x2="856.5" y1="283.6621" y2="283.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="674.5" y="278.9199">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="687.5" y="278.9199">createroute( routeDTO)</text><polygon fill="#181818" points="1097.5,308.9727,1107.5,312.9727,1097.5,316.9727,1101.5,312.9727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1103.5" y1="312.9727" y2="312.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="879.5" y="308.2305">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="892.5" y="308.2305">route= findByRouteId(routeId)</text><polygon fill="#181818" points="1176,338.2832,1186,342.2832,1176,346.2832,1180,342.2832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1182" y1="342.2832" y2="342.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="879.5" y="337.541">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="892.5" y="337.541">create(routeDTO)</text><path d="M20,357.2832 L82,357.2832 L82,364.5938 L72,374.5938 L20,374.5938 L20,357.2832 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="357.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="370.8516">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="97" y="369.918">[if ok]</text><polygon fill="#181818" points="1097.5,391.9043,1107.5,395.9043,1097.5,399.9043,1101.5,395.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1103.5" y1="395.9043" y2="395.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="879.5" y="391.1621">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="892.5" y="391.1621">Save(route)</text><polygon fill="#181818" points="1251.5,421.2148,1261.5,425.2148,1251.5,429.2148,1255.5,425.2148" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1257.5" y1="425.2148" y2="425.2148"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="420.4727">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="901.5" y="420.4727">toDTO(route)</text><polygon fill="#181818" points="347,450.5254,337,454.5254,347,458.5254,343,454.5254" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="861.5" y1="454.5254" y2="454.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="449.7832">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="375" y="449.7832">201</text><polygon fill="#181818" points="115,479.8359,105,483.8359,115,487.8359,111,483.8359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="483.8359" y2="483.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="479.0938">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="143" y="479.0938">CREATED</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1318.5" y1="492.8359" y2="492.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="36" x="25" y="503.4707">[error]</text><polygon fill="#181818" points="347,524.1016,337,528.1016,347,532.1016,343,528.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="866.5" y1="528.1016" y2="528.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="523.3594">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="375" y="523.3594">400/423</text><polygon fill="#181818" points="115,553.4121,105,557.4121,115,561.4121,111,557.4121" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="557.4121" y2="557.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="552.6699">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="143" y="552.6699">ERROR</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1328.5" y1="573.4121" y2="573.4121"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="83" x="15" y="584.0469">[edit the route]</text><polygon fill="#181818" points="314,604.6777,324,608.6777,314,612.6777,318,608.6777" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="320" y1="608.6777" y2="608.6777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="111" y="603.9355">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="133" y="603.9355">Starts to edit a route</text><polygon fill="#181818" points="115,633.9883,105,637.9883,115,641.9883,111,637.9883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="637.9883" y2="637.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="633.2461">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="143" y="633.2461">Asks for data</text><polygon fill="#181818" points="314,663.2988,324,667.2988,314,671.2988,318,667.2988" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="320" y1="667.2988" y2="667.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="111" y="662.5566">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="133" y="662.5566">Introduce the requested data</text><polygon fill="#181818" points="415,692.6094,425,696.6094,415,700.6094,419,696.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="331" x2="421" y1="696.6094" y2="696.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="338" y="691.8672">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="360" y="691.8672">UPDATE</text><polygon fill="#181818" points="650.5,721.9199,660.5,725.9199,650.5,729.9199,654.5,725.9199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="656.5" y1="725.9199" y2="725.9199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="721.1777">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="461" y="721.1777">updateroute(req, res, next)</text><polygon fill="#181818" points="850.5,751.2305,860.5,755.2305,850.5,759.2305,854.5,755.2305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="667.5" x2="856.5" y1="755.2305" y2="755.2305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="674.5" y="750.4883">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="696.5" y="750.4883">updateroute( routeDTO)</text><polygon fill="#181818" points="1097.5,780.541,1107.5,784.541,1097.5,788.541,1101.5,784.541" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1103.5" y1="784.541" y2="784.541"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="779.7988">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="901.5" y="779.7988">route=findByRouteId(routeId)</text><polygon fill="#181818" points="1176,809.8516,1186,813.8516,1176,817.8516,1180,813.8516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1182" y1="813.8516" y2="813.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="809.1094">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="901.5" y="809.1094">update(route)</text><path d="M20,828.8516 L82,828.8516 L82,836.1621 L72,846.1621 L20,846.1621 L20,828.8516 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="828.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="842.4199">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="97" y="841.4863">[if ok]</text><polygon fill="#181818" points="1097.5,863.4727,1107.5,867.4727,1097.5,871.4727,1101.5,867.4727" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1103.5" y1="867.4727" y2="867.4727"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="862.7305">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="901.5" y="862.7305">Save(route)</text><polygon fill="#181818" points="1251.5,892.7832,1261.5,896.7832,1251.5,900.7832,1255.5,896.7832" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1257.5" y1="896.7832" y2="896.7832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="892.041">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="901.5" y="892.041">toDTO(route)</text><polygon fill="#181818" points="347,922.0938,337,926.0938,347,930.0938,343,926.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="861.5" y1="926.0938" y2="926.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="921.3516">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="375" y="921.3516">200</text><polygon fill="#181818" points="115,951.4043,105,955.4043,115,959.4043,111,955.4043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="955.4043" y2="955.4043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="950.6621">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="143" y="950.6621">OK</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1318.5" y1="964.4043" y2="964.4043"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="36" x="25" y="975.0391">[error]</text><polygon fill="#181818" points="347,995.6699,337,999.6699,347,1003.6699,343,999.6699" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="866.5" y1="999.6699" y2="999.6699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="994.9277">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="375" y="994.9277">400/423</text><polygon fill="#181818" points="115,1024.9805,105,1028.9805,115,1032.9805,111,1028.9805" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="1028.9805" y2="1028.9805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="1024.2383">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="143" y="1024.2383">ERROR</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="1328.5" y1="1044.9805" y2="1044.9805"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="80" x="15" y="1055.6152">[list the route]</text><polygon fill="#181818" points="314,1076.2461,324,1080.2461,314,1084.2461,318,1080.2461" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="104" x2="320" y1="1080.2461" y2="1080.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="111" y="1075.5039">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138" x="133" y="1075.5039">asks to list the routes</text><polygon fill="#181818" points="415,1105.5566,425,1109.5566,415,1113.5566,419,1109.5566" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="331" x2="421" y1="1109.5566" y2="1109.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="338" y="1104.8145">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="360" y="1104.8145">GET</text><polygon fill="#181818" points="650.5,1134.8672,660.5,1138.8672,650.5,1142.8672,654.5,1138.8672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="432" x2="656.5" y1="1138.8672" y2="1138.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="439" y="1134.125">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="461" y="1134.125">getroutes(req, res, next)</text><polygon fill="#181818" points="850.5,1164.1777,860.5,1168.1777,850.5,1172.1777,854.5,1168.1777" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="667.5" x2="856.5" y1="1168.1777" y2="1168.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="674.5" y="1163.4355">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="696.5" y="1163.4355">getroutes( routeDTO)</text><polygon fill="#181818" points="1097.5,1193.4883,1107.5,1197.4883,1097.5,1201.4883,1101.5,1197.4883" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1103.5" y1="1197.4883" y2="1197.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="1192.7461">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="901.5" y="1192.7461">routeList=getAllroutes(routeId)</text><path d="M20,1242.4883 L82,1242.4883 L82,1249.7988 L72,1259.7988 L20,1259.7988 L20,1242.4883 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="178.8184" style="stroke:#000000;stroke-width:1.5;" width="1298.5" x="20" y="1242.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="1256.0566">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="35" x="97" y="1255.123">[if ok]</text><polygon fill="#181818" points="1251.5,1277.1094,1261.5,1281.1094,1251.5,1285.1094,1255.5,1281.1094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="872.5" x2="1257.5" y1="1281.1094" y2="1281.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="879.5" y="1276.3672">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="901.5" y="1276.3672">toDTO(routes)</text><polygon fill="#181818" points="347,1306.4199,337,1310.4199,347,1314.4199,343,1310.4199" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="861.5" y1="1310.4199" y2="1310.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="1305.6777">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24" x="375" y="1305.6777">200</text><polygon fill="#181818" points="115,1335.7305,105,1339.7305,115,1343.7305,111,1339.7305" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="1339.7305" y2="1339.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="1334.9883">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18" x="143" y="1334.9883">OK</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="1318.5" y1="1348.7305" y2="1348.7305"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="36" x="25" y="1359.3652">[error]</text><polygon fill="#181818" points="347,1379.9961,337,1383.9961,347,1387.9961,343,1383.9961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="341" x2="866.5" y1="1383.9961" y2="1383.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="353" y="1379.2539">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="375" y="1379.2539">400/423</text><polygon fill="#181818" points="115,1409.3066,105,1413.3066,115,1417.3066,111,1413.3066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="330" y1="1413.3066" y2="1413.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="121" y="1408.5645">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="143" y="1408.5645">ERROR</text><!--MD5=[8e9ee8a4f64596d36a01fceb1dece00b]
@startuml Sequence Diagram
autonumber

actor LOGISTICMANAGER as LM

activate LM
box "<<System>> EletricGO" #LightBlue
'participant "<<System>> EletricGO" as E
participant "SPA" as SPA
participant "Logistic" as LOGI
participant "WM" as WM
participant "Planning" as PLAN
participant "routeController" as ctrl
participant "routeService" as serv
participant "routeRepo" as repo
participant "route" as route
participant "routeMap" as map

end box

alt create route
    LM -> SPA: Starts to create a route
    activate SPA
    SPA - -> LM: Asks for data
    deactivate SPA
    LM-> SPA: Introduce the requested data
    activate SPA
    SPA -> LOGI: POST
    deactivate SPA
    activate LOGI
    LOGI -> ctrl: createroute(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: createroute( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo:route= findByRouteId(routeId)
    activate repo
    serv -> route: create(routeDTO)
    deactivate repo
    activate route

    alt if ok
    serv -> repo: Save(route)
    deactivate route
    activate repo
    serv -> map: toDTO(route)
    deactivate repo
    activate map

    serv - -> SPA: 201
    deactivate map
     
    activate SPA
    LM <- - SPA: CREATED
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt




    else edit the route

    LM -> SPA: Starts to edit a route
    activate SPA
    SPA - -> LM: Asks for data
    deactivate SPA

    LM-> SPA: Introduce the requested data

    activate SPA
    SPA -> LOGI: UPDATE
    deactivate SPA
    activate LOGI
    LOGI -> ctrl: updateroute(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: updateroute( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo: route=findByRouteId(routeId)
    activate repo
    serv -> route: update(route)
    deactivate repo
    activate route

    alt if ok
    serv -> repo: Save(route)
    deactivate route
    activate repo
    serv -> map: toDTO(route)
    deactivate repo
    activate map

    serv - -> SPA: 200
    deactivate map
     
    activate SPA
    LM <- - SPA: OK
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt

        else list the route
            LM -> SPA: asks to list the routes
            activate SPA
            SPA -> LOGI: GET
            deactivate SPA
    activate LOGI
    LOGI -> ctrl: getroutes(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: getroutes( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo: routeList=getAllroutes(routeId)
    activate repo
    deactivate repo

    alt if ok
    
    serv -> map: toDTO(routes)
    activate map

    serv - -> SPA: 200
    deactivate map
     
    activate SPA
    LM <- - SPA: OK
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt
    end alt


    deactivate LM

 @enduml

@startuml Sequence Diagram
autonumber

actor LOGISTICMANAGER as LM

activate LM
box "<<System>> EletricGO" #LightBlue
participant "SPA" as SPA
participant "Logistic" as LOGI
participant "WM" as WM
participant "Planning" as PLAN
participant "routeController" as ctrl
participant "routeService" as serv
participant "routeRepo" as repo
participant "route" as route
participant "routeMap" as map

end box

alt create route
    LM -> SPA: Starts to create a route
    activate SPA
    SPA - -> LM: Asks for data
    deactivate SPA
    LM-> SPA: Introduce the requested data
    activate SPA
    SPA -> LOGI: POST
    deactivate SPA
    activate LOGI
    LOGI -> ctrl: createroute(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: createroute( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo:route= findByRouteId(routeId)
    activate repo
    serv -> route: create(routeDTO)
    deactivate repo
    activate route

    alt if ok
    serv -> repo: Save(route)
    deactivate route
    activate repo
    serv -> map: toDTO(route)
    deactivate repo
    activate map

    serv - -> SPA: 201
    deactivate map
     
    activate SPA
    LM <- - SPA: CREATED
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt




    else edit the route

    LM -> SPA: Starts to edit a route
    activate SPA
    SPA - -> LM: Asks for data
    deactivate SPA

    LM-> SPA: Introduce the requested data

    activate SPA
    SPA -> LOGI: UPDATE
    deactivate SPA
    activate LOGI
    LOGI -> ctrl: updateroute(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: updateroute( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo: route=findByRouteId(routeId)
    activate repo
    serv -> route: update(route)
    deactivate repo
    activate route

    alt if ok
    serv -> repo: Save(route)
    deactivate route
    activate repo
    serv -> map: toDTO(route)
    deactivate repo
    activate map

    serv - -> SPA: 200
    deactivate map
     
    activate SPA
    LM <- - SPA: OK
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt

        else list the route
            LM -> SPA: asks to list the routes
            activate SPA
            SPA -> LOGI: GET
            deactivate SPA
    activate LOGI
    LOGI -> ctrl: getroutes(req, res, next)
    deactivate LOGI
    activate ctrl
    ctrl -> serv: getroutes( routeDTO)
    deactivate ctrl
    activate serv
   
    serv -> repo: routeList=getAllroutes(routeId)
    activate repo
    deactivate repo

    alt if ok
    
    serv -> map: toDTO(routes)
    activate map

    serv - -> SPA: 200
    deactivate map
     
    activate SPA
    LM <- - SPA: OK
    deactivate SPA
   
    else error
    SPA <- - serv: 400/423
    deactivate LOGI
    activate SPA

    deactivate serv
    LM <- - SPA: ERROR
    deactivate SPA

    end alt
    end alt


    deactivate LM

 @enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: pt
Country: PT
--></g></svg>